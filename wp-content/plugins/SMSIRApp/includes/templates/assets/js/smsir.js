/**
 *
 * @category  PLugins
 * @package   Wordpress
 * @author    IPdev.ir
 * @copyright 2022 The Ideh Pardazan (ipe.ir). All rights reserved.
 * @license   https://sms.ir/ ipe license
 * @version   IPE: 1.0.19
 * @link      https://app.sms.ir
 *
 */
var $=jQuery;function smsIrChangeTab(a){$("div.sms-ir-tab").hide(),$("a.nav-tab ").removeClass("nav-tab-active"),$("div#smsIr"+a+"Tab").show(),$("a[href='#"+a+"']").addClass("nav-tab-active")}function showSmsIrModal(a,s="admin"){$("#smsIrModalType").val(a),$("#smsIrTemplateParameter").html($("span[name='"+a+"_parameter']").html()),$("#smsIrModalMobile").val($("input[name='"+a+"_mobile']").val()),$("#smsIrModalTemplate").val($("input[name='"+a+"_template']").val()),$("#smsIrModalText").val($("input[name='"+a+"_text']").val()),"admin"==s?($("#smsIrModalMobile").show(),$("#smsIrModalMobileLabel").html("شماره مدیران را وارد نمایید: <i class='dashicons dashicons-info' title='شماره موبایل مقصد از طریق این قسمت در سیستم ثبت می گردد. شما می توانید شماره موبایل مدیران سایت را در حالتی که قصد ارسال پیامک به ادمین را دارید، در این قسمت طبق ساختار گفته شده، وارد نمایید.'></i>"),$("#smsIrModalMobileSmall").html("شماره موبایل مدیران را با<code>,</code> جدا کنید."),$("#smsIrModalMobileError").html("*شماره تلفن های وارد شده صحیح نمی باشند"),$("#smsIrModalMobile").attr("data-validation","admin"),$("#smsIrModalMobile").attr("placeholder","0911*******,0912*******,0913*******"),$("#smsIrModalMobile").removeClass("sms-ir-right-placeholder").addClass("sms-ir-left-placeholder")):"system"==s?($("#smsIrModalMobile").val(0).hide(),$("#smsIrModalMobile").attr("data-validation","none"),$("#smsIrModalMobileLabel").html("انتخاب خودکار شماره موبایل کاربر: <i class='dashicons dashicons-info' title='شماره موبایل مقصد از طریق این قسمت در سیستم ثبت می گردد. ارسال پیامک در مراحل مختلف ورود/ثبت نام به صورت کاملا خودکار و توسط سیستم انجام خواهد شد.'></i>"),$("#smsIrModalMobileSmall").text("مراحل تشخیص شماره موبایل و ارسال پیامک به صورت خودکار خواهد بود.")):"order"==s?($("#smsIrModalMobile").val(0).hide(),$("#smsIrModalMobile").attr("data-validation","none"),$("#smsIrModalMobileLabel").html("انتخاب خودکار شماره موبایل کاربر: <i class='dashicons dashicons-info' title='شماره موبایل مقصد از طریق این قسمت در سیستم ثبت می گردد. ارسال پیامک در ووکامرس به صورت کاملا خودکار و توسط سیستم انجام خواهد شد.'></i>"),$("#smsIrModalMobileSmall").text("مراحل تشخیص شماره موبایل و ارسال پیامک از طریق شماره موبایل موجود در فاکتور خواهد بود.")):($("#smsIrModalMobile").show(),$("#smsIrModalMobileLabel").html("ورودی شماره موبایل کاربر را وارد نمایید: <i class='dashicons dashicons-info' title='شماره موبایل مقصد از طریق این قسمت در سیستم ثبت می گردد. شماره موبایل کاربران در فرم سازهای Gravity و Contact7 نیز به وسیله شناسه یکتای هر کدام از ورودی ها (Input)، شناسایی و ارسال پیامک انجام خواهد شد. لیست شناسه ها و ورودی های هر فرم نیز در انتهای این پاپ آپ قرار داده شده است.'></i>"),$("#smsIrModalMobileSmall").text("پارامترهای مورد قبول در انتهای این صفحه قرار دارند. مثال #phone1.#"),$("#smsIrModalMobileError").html("*ورودی شماره موبایل کاربر وارد شده صحیح نمی باشد"),$("#smsIrModalMobile").attr("placeholder","ورودی شماره موبایل را از بین پارامترهای مورد قبول انتخاب نمایید"),$("#smsIrModalMobile").attr("data-validation","template"),$("#smsIrModalMobile").removeClass("sms-ir-left-placeholder").addClass("sms-ir-right-placeholder")),0!=$("#smsIrModalTemplate").val()?($("input.sms-ir-check").prop("checked",!0),smsIrSenderType(1)):($("input.sms-ir-check").prop("checked",!1),smsIrSenderType(0)),$("#smsIrModal").show()}function saveSmsIrModal(){const a=$("#smsIrModalMobile").attr("data-validation");let s=0;switch(a){case"admin":$("#smsIrModalMobile").val().split(",").forEach((a=>{a.length<10&&($("#smsIrModalMobileError").show(),s++,$("#smsIrModalMobile").on("keyup",(()=>{const a=$("#smsIrModalMobile").val().split(",");newError=0,a.forEach((a=>{a.length<10&&newError++})),0==newError&&$("#smsIrModalMobileError").hide()})))}));break;case"template":const a=new RegExp("#[\\S]{2,}#");a.test($("#smsIrModalMobile").val())||($("#smsIrModalMobileError").show(),s++,$("#smsIrModalMobile").on("keyup",(s=>{a.test($("#smsIrModalMobile").val())&&$("#smsIrModalMobileError").hide()})))}if($(".sms-ir-check").prop("checked")&&(console.log("ok"),$("#smsIrModalTemplate").val()<100&&($("#smsIrModalTemplateError").show(),s++,$("#smsIrModalTemplate").on("keyup",(()=>{$("#smsIrModalTemplate").val()>=100&&$("#smsIrModalTemplateError").hide()})))),s>0)return!1;var o=$("#smsIrModalType").val();1==$(".sms-ir-check").prop("checked")?($("#smsIrModalText").val(""),$("span[name='"+o+"_parameter']").find(".sms-ir-setting-parameter").each((function(){$("#smsIrModalText").val($("#smsIrModalText").val()+$(this).text()+"\n")}))):$("#smsIrModalTemplate").val(0),$(".sms-ir-modal-form-control").each((function(){if($(this).removeClass("sms-ir-modal-form-control-error"),0==$(this).val().length)throw $(this).addClass("sms-ir-modal-form-control-error"),422})),$("input[name='"+o+"_mobile']").val($("#smsIrModalMobile").val()),$("input[name='"+o+"_template']").val($("#smsIrModalTemplate").val()),$("input[name='"+o+"_text']").val($("#smsIrModalText").val()),$("input[name='"+o+"']").prop("checked",!0),$("input[name='"+o+"_status']").val(1),$("i[data-name='"+o+"']").show(),hideSmsIrModal()}function hideSmsIrModal(){$("#smsIrModal").hide(),$("#smsIrModalMobileError,#smsIrModalTemplateError").hide(),$(".sms-ir-modal-form-control").each((function(){$(this).removeClass("sms-ir-modal-form-control-error")}))}function smsIrSenderType(a){a?($("#smsIrModalMobileBulk").hide(),$("#smsIrModalMobileVerify").show()):($("#smsIrModalMobileVerify").hide(),$("#smsIrModalMobileBulk").show())}$(document).ready((function(){$(".sms-ir-setting-checkbox").change((function(){var a=$(this).attr("name"),s=$(this).attr("data-type");$("i[data-name='"+a+"']").hide(),this.checked?($(this).prop("checked",!1),showSmsIrModal(a,s)):$("input[name='"+a+"_status']").val(0)})),$(".dashicons-visibility").click((function(){showSmsIrModal($(this).data("name"),$(this).data("type"))})),$(document).on("click",".sms-ir-setting-parameter",(function(){0==$(".sms-ir-check").prop("checked")&&$("#smsIrModalText").val($("#smsIrModalText").val()+$(this).text()).focus()})),$("#dataTable").DataTable({aaSorting:[[0,"desc"]],language:{emptyTable:"هیچ داده‌ای در جدول وجود ندارد",info:"نمایش _START_ تا _END_ از _TOTAL_ ردیف",infoEmpty:"نمایش 0 تا 0 از 0 ردیف",infoFiltered:"(فیلتر شده از _MAX_ ردیف)",infoThousands:",",lengthMenu:"نمایش _MENU_ ردیف",processing:"در حال پردازش...",search:"جستجو:",zeroRecords:"رکوردی با این مشخصات پیدا نشد",paginate:{first:"برگه‌ی نخست",last:"برگه‌ی آخر",next:"بعدی",previous:"قبلی"},aria:{sortAscending:": فعال سازی نمایش به صورت صعودی",sortDescending:": فعال سازی نمایش به صورت نزولی"},loadingRecords:"در حال بارگذاری..."}})})),jQuery(document).ready((function(a){a("#promotionSave").click((function(s){var o={action:"smsIrAjax",type:"promotion",name:a("#promotionName").val(),mobile:a("#promotionMobile").val(),product_id:a("#comment_post_ID").val(),security:sms_ir_handler.ajaxnonce};s.preventDefault(),a.post(sms_ir_handler.ajaxurl,o,(function(s){s.success?a("#promotionError").html(s.data.message).css("color","green"):s.data?a("#promotionError").html(s.data.error).css("color","red"):a("#promotionError").html("پاسخی از سمت سرور دریافت نشد.").css("color","red")}))})),a("#inventorySave").click((function(s){var o={action:"smsIrAjax",type:"inventory",name:a("#inventoryName").val(),mobile:a("#inventoryMobile").val(),product_id:a("#comment_post_ID").val(),security:sms_ir_handler.ajaxnonce};s.preventDefault(),a.post(sms_ir_handler.ajaxurl,o,(function(s){s.success?a("#inventoryError").html(s.data.message).css("color","green"):s.data?a("#inventoryError").html(s.data.error).css("color","red"):a("#inventoryError").html("پاسخی از سمت سرور دریافت نشد.").css("color","red")}))}))}));
